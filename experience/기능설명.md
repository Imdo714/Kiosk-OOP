
### 💽 기본적으로 필수 값 누락 시 `MethodArgumentNotValidException` validation 예외 처리를 하였습니다.

---

# ☕메뉴 도메인

- ### ✅메뉴 등록 `@Post("/menu/new")`
  - 메뉴를 등록합니다.
  - 예외처리 : 
    - 필수 값 누락 시 `MethodArgumentNotValidException` validation 예외 처리
- ### ✅메뉴 업데이트 `@Patch("/menu/{menuId}")`
  - 가격, 상태값을 수정 할 수 있음 
  - 예외처리 : 
    - 가격 0이하 이거나 상태값 Null이면 `InvalidEntityException`수정 예외 처리
- ### ✅메뉴 조회 `@Get("menu")`
  - 카테고리, 메뉴 이름, 상태값 **QueryDSL**을 이용해 동적으로 필터링
  - 예외처리 : 
    - Enum 타입 안 맞으면 `validEnumTypeException`예외 처리


---

# 🧾주문 도메인

- ### ✅주문 등록 `@Post("/order/new")`
  - 들어온 주문 정보를 보고 할인메뉴가 있으면 할인 금액 적용, 없으면 메뉴 가격으로 주문 등록
  - 예외처리 : 
    - 판매 상품이 아니면 `validEnumTypeException` 주문 불가 예외 처리
    - 할인 메뉴가 **주문 날짜 기준**으로 할인 기간이 아니면 그냥 가격으로 처리
    - 주문 시 수량이 0이하일 경우 `InvalidEntityException` 주문 불가 예외 처리
    
- ### ✅일일 시간대 주문 수 및 총 금액 조회 `@Get("/order/dateTime")`
  - 원하는 날 시간대에 맞춰 주문 수 및 총 금액을 조회
  - 예외 처리 : 
    - 종료 시간은 시작 시간 이후여야 합니다.
- ### ✅일일 총 주문 수 및 총 금액 조회 `@Get("/order/daily")`
  - 원하는 날 하루 동안 주문 수 및 총 금액을 조회
  - 그날 기준 00:00 ~ 그 다음날 00:00으로 날짜 계산
  - 추상 클래스를 사용해 하위 클래스에서 날짜 계산만 하고 공통 로직은 추상 클래스에서 해결
- ### ✅일주일 총 주문 수 및 총 금액 조회 `@Get("/order/weekly")`
  - 원하는 한 주 동안 주문 수 및 총 금액을 조회
  - 날짜에서 월요일 00:00 ~ 그 다음 월요일 00:00으로 날짜 계산
  - 추상 클래스를 사용해 하위 클래스에서 날짜 계산만 하고 공통 로직은 추상 클래스에서 해결
- ### ✅한달 총 주문 수 및 총 금액 조회 `@Get("/order/monthly")`
  - 원하는 날 한달 동안 주문 수 및 총 금액을 조회
  - 날짜에서 그 달 1일 00:00 ~ 그 다음 달 1일 00:00으로 날짜 계산
  - 추상 클래스를 사용해 하위 클래스에서 날짜 계산만 하고 공통 로직은 추상 클래스에서 해결
---

## 💰할인 도메인

- ### ✅할인 상품 등록 `@Post("/discount")`
  - 하나의 상품에는 여러 할인이 들어가지만 행사 기간이 겹칠 수는 없습니다.
  - 예외 처리 : 
    - 새로운 할인 상품 기간이 현재 할인 상품 기간이랑 겹치면 `InvalidEntityException` 할인 상풍 등록 불가 예외 처리
    - 할인 시작일과 종료일은 필수입니다. `InvalidEntityException` 예외 처리
    - 할인 시작일이 할인 종료일보다 이후일 수 없습니다. `InvalidEntityException` 예외 처리

---

# state 패키지
> state는 도메인 모델이 아닌 도메인 데이터를 기반으로 파생된 분석 결과를 담당하는 추상화한 패키지입니다.